<!DOCTYPE html>
<html>

<head>
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'formapp/Lost_and_found_account.css' %}">
    <title>{% if edit %}Edit Lost Item{% else %}Lost Item Listing{% endif %}</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-dark fixed-top">
        <div class="container-fluid">
            <div class="navbar ">
                <span class="navbar-brand mt-0 h1"></span>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <div class="side_bar">
        <div class="logo_name">UNION HUB</div>

        <div class="nav_opt">
            <a href="#"><svg width="17" height="17" fill="currentColor" class="bi bi-house-fill">
                    <path
                        d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293z" />
                    <path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293z" />
                </svg> Home</a>

            <a href="#"><svg width="16" height="16" fill="currentColor" class="bi bi-search">
                    <path
                        d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
                </svg> Browse</a>

            <a href="#"><svg width="16" height="16" fill="currentColor" class="bi bi-person-fill">
                    <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
                </svg> Profile</a>

            <a href="#"><svg width="16" height="16" fill="currentColor" class="bi bi-bell-fill">
                    <path
                        d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5 5 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901" />
                </svg> Notification</a>

            <a href="#"><svg width="16" height="16" fill="currentColor" class="bi bi-envelope-fill">
                    <path
                        d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z" />
                </svg> Inbox</a>
        </div>
    </div>

    <div class="sidebar-spacer d-none d-lg-block"></div>

    <!-- Main Page -->
    <div class="main_container">
        <div class="container-fluid">

            <div class="row h-100">

                <div class="col-12 col-md-8 col-lg-4 mainbg">

                    <form
                        action="{% if edit %}{% url 'lost_found_edit' item.id %}{% else %}{% url 'lost_found_form' %}{% endif %}"
                        method="post" class="container-fluid" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row align-items-stretch h-100">

                            <!-- LEFT SIDE — Picture + Description -->
                            <div class="col-12 col-lg-7">
                                <div class="border rounder roommate_details flex-fill">

                                    <!-- PREVIEW OF IMAGE IF EDITING -->
                                    {% if edit and item.item_picture %}
                                    <div class="mb-3 text-center">
                                        <img src="{{ item.item_picture.url }}" class="rounded shadow"
                                            style="width:150px; height:150px; object-fit:cover;">
                                    </div>
                                    {% endif %}

                                    <!-- File Upload -->
                                    <label for="photoInput" class="upload-box">
                                        <input type="file" id="photoInput" accept="image/*" capture="environment" hidden
                                            name="item_picture">
                                        Click to take or upload picture of item
                                    </label>

                                    <!-- Description -->
                                    <div class="user_description mt-3">
                                        <label class="form-label mb-2">Description of lost item (300 words)</label>
                                        <textarea class="form-control" maxlength="300" name="item_desc"
                                            placeholder="Write details...">{% if edit %}{{ item.item_desc }}{% endif %}</textarea>
                                    </div>

                                </div>
                            </div>

                            <!-- RIGHT SIDE — Info Fields -->
                            <div class="col-12 col-lg-5">
                                <div class="border rounder roommate_details info">

                                    <!-- Item Name -->
                                    <div class="mb-3">
                                        <label class="form-label">Item Name*</label>
                                        <input type="text" class="form-control" placeholder="Enter item name" required
                                            name="item_name" value="{% if edit %}{{ item.item_name }}{% endif %}">
                                    </div>

                                    <!-- Found At -->
                                    <div class="mb-3">
                                        <label class="form-label">Where was the item found?*</label>
                                        <input type="text" class="form-control" placeholder="Enter location" required
                                            name="item_found" value="{% if edit %}{{ item.item_found }}{% endif %}">
                                    </div>

                                    <!-- Submitted To -->
                                    <div class="mb-3">
                                        <label class="form-label">Where is the item submitted to?*</label>
                                        <input type="text" class="form-control" placeholder="NS for 'no submission'"
                                            required name="item_submitted"
                                            value="{% if edit %}{{ item.item_submitted }}{% endif %}">
                                    </div>

                                    <!-- Contact -->
                                    <div class="mb-3">
                                        <label class="form-label">Phone Number / Email</label>
                                        <input type="text" class="form-control" placeholder="Enter contact information"
                                            name="item_contact" value="{% if edit %}{{ item.item_contact }}{% endif %}">
                                    </div>

                                    <p style="color: red; font-size: 12px;">"*" Indicates required fields</p>

                                    <!-- Submit Button -->
                                    <div class="d-flex justify-content-end">
                                        <input class="btn btn-primary button" type="submit"
                                            value="{% if edit %}Save Changes{% else %}Submit{% endif %}">
                                    </div>

                                </div>
                            </div>

                        </div>
                    </form>

                </div>
            </div>

        </div>
    </div>

</body>

</html>